(function(){var Meteor=Package.meteor.Meteor;var global=Package.meteor.global;var meteorEnv=Package.meteor.meteorEnv;var _=Package.underscore._;var meteorInstall=Package.modules.meteorInstall;var Buffer=Package.modules.Buffer;var process=Package.modules.process;var Symbol=Package["ecmascript-runtime"].Symbol;var Map=Package["ecmascript-runtime"].Map;var Set=Package["ecmascript-runtime"].Set;var meteorBabelHelpers=Package["babel-runtime"].meteorBabelHelpers;var Promise=Package.promise.Promise;var Random;var require=meteorInstall({node_modules:{meteor:{random:{"random.js":function(require){if(Meteor.isServer)var nodeCrypto=Npm.require("crypto");var Alea=function Alea(){function Mash(){var n=4022871197;var mash=function mash(data){data=data.toString();for(var i=0;i<data.length;i++){n+=data.charCodeAt(i);var h=.02519603282416938*n;n=h>>>0;h-=n;h*=n;n=h>>>0;h-=n;n+=h*4294967296}return(n>>>0)*2.3283064365386963e-10};mash.version="Mash 0.9";return mash}return function(args){var s0=0;var s1=0;var s2=0;var c=1;if(args.length==0){args=[+new Date]}var mash=Mash();s0=mash(" ");s1=mash(" ");s2=mash(" ");for(var i=0;i<args.length;i++){s0-=mash(args[i]);if(s0<0){s0+=1}s1-=mash(args[i]);if(s1<0){s1+=1}s2-=mash(args[i]);if(s2<0){s2+=1}}mash=null;var random=function random(){var t=2091639*s0+c*2.3283064365386963e-10;s0=s1;s1=s2;return s2=t-(c=t|0)};random.uint32=function(){return random()*4294967296};random.fract53=function(){return random()+(random()*2097152|0)*1.1102230246251565e-16};random.version="Alea 0.9";random.args=args;return random}(Array.prototype.slice.call(arguments))};var UNMISTAKABLE_CHARS="23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz";var BASE64_CHARS="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"+"0123456789-_";var RandomGenerator=function RandomGenerator(type,options){var self=this;self.type=type;if(!RandomGenerator.Type[type]){throw new Error("Unknown random generator type: "+type)}if(type===RandomGenerator.Type.ALEA){if(!options.seeds){throw new Error("No seeds were provided for Alea PRNG")}self.alea=Alea.apply(null,options.seeds)}};RandomGenerator.Type={NODE_CRYPTO:"NODE_CRYPTO",BROWSER_CRYPTO:"BROWSER_CRYPTO",ALEA:"ALEA"};RandomGenerator.prototype.fraction=function(){var self=this;if(self.type===RandomGenerator.Type.ALEA){return self.alea()}else if(self.type===RandomGenerator.Type.NODE_CRYPTO){var numerator=parseInt(self.hexString(8),16);return numerator*2.3283064365386963e-10}else if(self.type===RandomGenerator.Type.BROWSER_CRYPTO){var array=new Uint32Array(1);window.crypto.getRandomValues(array);return array[0]*2.3283064365386963e-10}else{throw new Error("Unknown random generator type: "+self.type)}};RandomGenerator.prototype.hexString=function(digits){var self=this;if(self.type===RandomGenerator.Type.NODE_CRYPTO){var numBytes=Math.ceil(digits/2);var bytes;try{bytes=nodeCrypto.randomBytes(numBytes)}catch(e){bytes=nodeCrypto.pseudoRandomBytes(numBytes)}var result=bytes.toString("hex");return result.substring(0,digits)}else{return this._randomString(digits,"0123456789abcdef")}};RandomGenerator.prototype._randomString=function(charsCount,alphabet){var self=this;var digits=[];for(var i=0;i<charsCount;i++){digits[i]=self.choice(alphabet)}return digits.join("")};RandomGenerator.prototype.id=function(charsCount){var self=this;if(charsCount===undefined)charsCount=17;return self._randomString(charsCount,UNMISTAKABLE_CHARS)};RandomGenerator.prototype.secret=function(charsCount){var self=this;if(charsCount===undefined)charsCount=43;return self._randomString(charsCount,BASE64_CHARS)};RandomGenerator.prototype.choice=function(arrayOrString){var index=Math.floor(this.fraction()*arrayOrString.length);if(typeof arrayOrString==="string")return arrayOrString.substr(index,1);else return arrayOrString[index]};var height=typeof window!=="undefined"&&window.innerHeight||typeof document!=="undefined"&&document.documentElement&&document.documentElement.clientHeight||typeof document!=="undefined"&&document.body&&document.body.clientHeight||1;var width=typeof window!=="undefined"&&window.innerWidth||typeof document!=="undefined"&&document.documentElement&&document.documentElement.clientWidth||typeof document!=="undefined"&&document.body&&document.body.clientWidth||1;var agent=typeof navigator!=="undefined"&&navigator.userAgent||"";function createAleaGeneratorWithGeneratedSeed(){return new RandomGenerator(RandomGenerator.Type.ALEA,{seeds:[new Date,height,width,agent,Math.random()]})}if(Meteor.isServer){Random=new RandomGenerator(RandomGenerator.Type.NODE_CRYPTO)}else{if(typeof window!=="undefined"&&window.crypto&&window.crypto.getRandomValues){Random=new RandomGenerator(RandomGenerator.Type.BROWSER_CRYPTO)}else{Random=createAleaGeneratorWithGeneratedSeed()}}Random.createWithSeeds=function(){for(var _len=arguments.length,seeds=Array(_len),_key=0;_key<_len;_key++){seeds[_key]=arguments[_key]}if(seeds.length===0){throw new Error("No seeds were provided")}return new RandomGenerator(RandomGenerator.Type.ALEA,{seeds:seeds})};Random.insecure=createAleaGeneratorWithGeneratedSeed()},"deprecated.js":function(){Meteor.uuid=function(){var HEX_DIGITS="0123456789abcdef";var s=[];for(var i=0;i<36;i++){s[i]=Random.choice(HEX_DIGITS)}s[14]="4";s[19]=HEX_DIGITS.substr(parseInt(s[19],16)&3|8,1);s[8]=s[13]=s[18]=s[23]="-";var uuid=s.join("");return uuid}}}}}},{extensions:[".js",".json"]});require("./node_modules/meteor/random/random.js");require("./node_modules/meteor/random/deprecated.js");if(typeof Package==="undefined")Package={};(function(pkg,symbols){for(var s in symbols)s in pkg||(pkg[s]=symbols[s])})(Package.random={},{Random:Random})})();(function(){var Meteor=Package.meteor.Meteor;var global=Package.meteor.global;var meteorEnv=Package.meteor.meteorEnv;var _=Package.underscore._;var Symbol=Package["ecmascript-runtime"].Symbol;var Map=Package["ecmascript-runtime"].Map;var Set=Package["ecmascript-runtime"].Set;var Reload;(function(){Reload={};var KEY_NAME="Meteor_Reload";var old_data={};var old_json;var safeSessionStorage=null;try{safeSessionStorage=window.sessionStorage;if(safeSessionStorage){safeSessionStorage.setItem("__dummy__","1");safeSessionStorage.removeItem("__dummy__")}else{safeSessionStorage=null}}catch(e){safeSessionStorage=null}Reload._getData=function(){return safeSessionStorage&&safeSessionStorage.getItem(KEY_NAME)};if(safeSessionStorage){old_json=Reload._getData();safeSessionStorage.removeItem(KEY_NAME)}else{}if(!old_json)old_json="{}";var old_parsed={};try{old_parsed=JSON.parse(old_json);if(typeof old_parsed!=="object"){Meteor._debug("Got bad data on reload. Ignoring.");old_parsed={}}}catch(err){Meteor._debug("Got invalid JSON on reload. Ignoring.")}if(old_parsed.reload&&typeof old_parsed.data==="object"){old_data=old_parsed.data}var providers=[];Reload._onMigrate=function(name,callback){if(!callback){callback=name;name=undefined}providers.push({name:name,callback:callback})};Reload._migrationData=function(name){return old_data[name]};var pollProviders=function(tryReload,options){tryReload=tryReload||function(){};options=options||{};var migrationData={};var remaining=_.clone(providers);var allReady=true;while(remaining.length){var p=remaining.shift();var status=p.callback(tryReload,options);if(!status[0])allReady=false;if(status.length>1&&p.name)migrationData[p.name]=status[1]}if(allReady||options.immediateMigration)return migrationData;else return null};Reload._migrate=function(tryReload,options){var migrationData=pollProviders(tryReload,options);if(migrationData===null)return false;try{var json=JSON.stringify({data:migrationData,reload:true})}catch(err){Meteor._debug("Couldn't serialize data for migration",migrationData);throw err}if(safeSessionStorage){try{safeSessionStorage.setItem(KEY_NAME,json)}catch(err){Meteor._debug("Couldn't save data for migration to sessionStorage",err)}}else{Meteor._debug("Browser does not support sessionStorage. Not saving migration state.")}return true};Reload._withFreshProvidersForTest=function(f){var originalProviders=_.clone(providers);providers=[];try{f()}finally{providers=originalProviders}};var reloading=false;Reload._reload=function(options){options=options||{};if(reloading)return;reloading=true;var tryReload=function(){_.defer(function(){if(Reload._migrate(tryReload,options)){if(window.location.hash||window.location.href.endsWith("#")){window.location.reload()}else{window.location.replace(window.location.href)}}})};tryReload()}}).call(this);(function(){Meteor._reload={onMigrate:Reload._onMigrate,migrationData:Reload._migrationData,reload:Reload._reload}}).call(this);if(typeof Package==="undefined")Package={};(function(pkg,symbols){for(var s in symbols)s in pkg||(pkg[s]=symbols[s])})(Package.reload={},{Reload:Reload})})();(function(){var Meteor=Package.meteor.Meteor;var global=Package.meteor.global;var meteorEnv=Package.meteor.meteorEnv;var _=Package.underscore._;var URL,buildUrl;(function(){URL={};var encodeString=function(str){return encodeURIComponent(str).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")};URL._encodeParams=function(params){var buf=[];_.each(params,function(value,key){if(buf.length)buf.push("&");buf.push(encodeString(key),"=",encodeString(value))});return buf.join("").replace(/%20/g,"+")};buildUrl=function(before_qmark,from_qmark,opt_query,opt_params){var url_without_query=before_qmark;var query=from_qmark?from_qmark.slice(1):null;if(typeof opt_query==="string")query=String(opt_query);if(opt_params){query=query||"";var prms=URL._encodeParams(opt_params);if(query&&prms)query+="&";query+=prms}var url=url_without_query;if(query!==null)url+="?"+query;return url}}).call(this);(function(){URL._constructUrl=function(url,query,params){var query_match=/^(.*?)(\?.*)?$/.exec(url);return buildUrl(query_match[1],query_match[2],query,params)}}).call(this);if(typeof Package==="undefined")Package={};(function(pkg,symbols){for(var s in symbols)s in pkg||(pkg[s]=symbols[s])})(Package.url={},{URL:URL})})();(function(){var Meteor=Package.meteor.Meteor;var global=Package.meteor.global;var meteorEnv=Package.meteor.meteorEnv;var check=Package.check.check;var Match=Package.check.Match;var _=Package.underscore._;var Reload=Package.reload.Reload;var Base64=Package.base64.Base64;var URL=Package.url.URL;var OAuth,Oauth;(function(){var credentialSecrets={};OAuth={};OAuth.showPopup=function(url,callback,dimensions){throw new Error("OAuth.showPopup must be implemented on this arch.")};OAuth._loginStyle=function(service,config,options){if(Meteor.isCordova){return"popup"}var loginStyle=options&&options.loginStyle||config.loginStyle||"popup";if(!_.contains(["popup","redirect"],loginStyle))throw new Error("Invalid login style: "+loginStyle);if(loginStyle==="redirect"){try{sessionStorage.setItem("Meteor.oauth.test","test");sessionStorage.removeItem("Meteor.oauth.test")}catch(e){loginStyle="popup"}}return loginStyle};OAuth._stateParam=function(loginStyle,credentialToken,redirectUrl){var state={loginStyle:loginStyle,credentialToken:credentialToken,isCordova:Meteor.isCordova};if(loginStyle==="redirect")state.redirectUrl=redirectUrl||""+window.location;return Base64.encode(JSON.stringify(state))};OAuth.saveDataForRedirect=function(loginService,credentialToken){Reload._onMigrate("oauth",function(){return[true,{loginService:loginService,credentialToken:credentialToken}]});Reload._migrate(null,{immediateMigration:true})};OAuth.getDataAfterRedirect=function(){var migrationData=Reload._migrationData("oauth");if(!(migrationData&&migrationData.credentialToken))return null;var credentialToken=migrationData.credentialToken;var key=OAuth._storageTokenPrefix+credentialToken;var credentialSecret;try{credentialSecret=sessionStorage.getItem(key);sessionStorage.removeItem(key)}catch(e){Meteor._debug("error retrieving credentialSecret",e)}return{loginService:migrationData.loginService,credentialToken:credentialToken,credentialSecret:credentialSecret}};OAuth.launchLogin=function(options){if(!options.loginService)throw new Error("loginService required");if(options.loginStyle==="popup"){OAuth.showPopup(options.loginUrl,_.bind(options.credentialRequestCompleteCallback,null,options.credentialToken),options.popupOptions)}else if(options.loginStyle==="redirect"){OAuth.saveDataForRedirect(options.loginService,options.credentialToken);window.location=options.loginUrl}else{throw new Error("invalid login style")}};OAuth.initiateLogin=function(credentialToken,url,callback,dimensions){OAuth.showPopup(url,_.bind(callback,null,credentialToken),dimensions)};OAuth._handleCredentialSecret=function(credentialToken,secret){check(credentialToken,String);check(secret,String);if(!_.has(credentialSecrets,credentialToken)){credentialSecrets[credentialToken]=secret}else{throw new Error("Duplicate credential token from OAuth login")}};OAuth._retrieveCredentialSecret=function(credentialToken){var secret=credentialSecrets[credentialToken];if(!secret){var localStorageKey=OAuth._storageTokenPrefix+credentialToken;secret=Meteor._localStorage.getItem(localStorageKey);Meteor._localStorage.removeItem(localStorageKey)}else{delete credentialSecrets[credentialToken]}return secret}}).call(this);(function(){OAuth.showPopup=function(url,callback,dimensions){var popup=openCenteredPopup(url,dimensions&&dimensions.width||650,dimensions&&dimensions.height||331);var checkPopupOpen=setInterval(function(){try{var popupClosed=popup.closed||popup.closed===undefined}catch(e){return}if(popupClosed){clearInterval(checkPopupOpen);callback()}},100)};var openCenteredPopup=function(url,width,height){var screenX=typeof window.screenX!=="undefined"?window.screenX:window.screenLeft;var screenY=typeof window.screenY!=="undefined"?window.screenY:window.screenTop;var outerWidth=typeof window.outerWidth!=="undefined"?window.outerWidth:document.body.clientWidth;var outerHeight=typeof window.outerHeight!=="undefined"?window.outerHeight:document.body.clientHeight-22;var left=screenX+(outerWidth-width)/2;var top=screenY+(outerHeight-height)/2;var features="width="+width+",height="+height+",left="+left+",top="+top+",scrollbars=yes";var newwindow=window.open(url,"Login",features);if(typeof newwindow==="undefined"){var err=new Error("The login popup was blocked by the browser");err.attemptedUrl=url;throw err}if(newwindow.focus)newwindow.focus();return newwindow}}).call(this);(function(){OAuth._storageTokenPrefix="Meteor.oauth.credentialSecret-";OAuth._redirectUri=function(serviceName,config,params,absoluteUrlOptions){var query=config.loginStyle?null:"close";var isCordova=false;var isAndroid=false;if(params){params=_.clone(params);isCordova=params.cordova;isAndroid=params.android;delete params.cordova;delete params.android;if(_.isEmpty(params)){params=undefined}}if(Meteor.isServer&&isCordova){var rootUrl=process.env.MOBILE_ROOT_URL||__meteor_runtime_config__.ROOT_URL;if(isAndroid){var url=Npm.require("url");var parsedRootUrl=url.parse(rootUrl);if(parsedRootUrl.hostname==="localhost"){parsedRootUrl.hostname="10.0.2.2";delete parsedRootUrl.host}rootUrl=url.format(parsedRootUrl)}absoluteUrlOptions=_.extend({},absoluteUrlOptions,{rootUrl:rootUrl})}return URL._constructUrl(Meteor.absoluteUrl("_oauth/"+serviceName,absoluteUrlOptions),query,params)}}).call(this);(function(){Oauth=OAuth}).call(this);if(typeof Package==="undefined")Package={};(function(pkg,symbols){for(var s in symbols)s in pkg||(pkg[s]=symbols[s])})(Package.oauth={},{OAuth:OAuth,Oauth:Oauth})})();(function(){var Meteor=Package.meteor.Meteor;var global=Package.meteor.global;var meteorEnv=Package.meteor.meteorEnv;var _=Package.underscore._;var Random=Package.random.Random;var check=Package.check.check;var Match=Package.check.Match;var Accounts=Package["accounts-base"].Accounts;var OAuth=Package.oauth.OAuth;var Oauth=Package.oauth.Oauth;(function(){Accounts.oauth={};var services={};Accounts.oauth.registerService=function(name){if(_.has(services,name))throw new Error("Duplicate service: "+name);services[name]=true;if(Meteor.server){Meteor.users._ensureIndex("services."+name+".id",{unique:1,sparse:1})}};Accounts.oauth.unregisterService=function(name){if(!_.has(services,name))throw new Error("Service not found: "+name);delete services[name]};Accounts.oauth.serviceNames=function(){return _.keys(services)}}).call(this);(function(){var convertError=function(err){if(err&&err instanceof Meteor.Error&&err.error===Accounts.LoginCancelledError.numericError)return new Accounts.LoginCancelledError(err.reason);else return err};Meteor.startup(function(){var oauth=OAuth.getDataAfterRedirect();if(!oauth)return;var methodName="login";var methodArguments=[{oauth:_.pick(oauth,"credentialToken","credentialSecret")}];Accounts.callLoginMethod({methodArguments:methodArguments,userCallback:function(err){err=convertError(err);Accounts._pageLoadLogin({type:oauth.loginService,allowed:!err,error:err,methodName:methodName,methodArguments:methodArguments})}})});Accounts.oauth.tryLoginAfterPopupClosed=function(credentialToken,callback){var credentialSecret=OAuth._retrieveCredentialSecret(credentialToken)||null;Accounts.callLoginMethod({methodArguments:[{oauth:{credentialToken:credentialToken,credentialSecret:credentialSecret}}],userCallback:callback&&function(err){callback(convertError(err))}})};Accounts.oauth.credentialRequestCompleteHandler=function(callback){return function(credentialTokenOrError){if(credentialTokenOrError&&credentialTokenOrError instanceof Error){callback&&callback(credentialTokenOrError)}else{Accounts.oauth.tryLoginAfterPopupClosed(credentialTokenOrError,callback)}}}}).call(this);if(typeof Package==="undefined")Package={};Package["accounts-oauth"]={}})();Mongo=Package.mongo.Mongo;ReactiveVar=Package["reactive-var"].ReactiveVar;$=Package.jquery.$;jQuery=Package.jquery.jQuery;Tracker=Package.tracker.Tracker;Deps=Package.tracker.Deps;Meteor=Package.meteor.Meteor;global=Package.meteor.global;meteorEnv=Package.meteor.meteorEnv;WebApp=Package.webapp.WebApp;_=Package.underscore._;DDP=Package["ddp-client"].DDP;LaunchScreen=Package["launch-screen"].LaunchScreen;Blaze=Package.ui.Blaze;UI=Package.ui.UI;Handlebars=Package.ui.Handlebars;Spacebars=Package.spacebars.Spacebars;Template=Package["templating-runtime"].Template;meteorInstall=Package.modules.meteorInstall;Buffer=Package.modules.Buffer;process=Package.modules.process;Symbol=Package["ecmascript-runtime"].Symbol;Map=Package["ecmascript-runtime"].Map;Set=Package["ecmascript-runtime"].Set;meteorBabelHelpers=Package["babel-runtime"].meteorBabelHelpers;Promise=Package.promise.Promise;Accounts=Package["accounts-base"].Accounts;Autoupdate=Package.autoupdate.Autoupdate;Reload=Package.reload.Reload;HTML=Package.htmljs.HTML;